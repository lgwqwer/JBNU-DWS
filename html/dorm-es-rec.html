<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>재학생 환산점수 계산</title>
</head>

<body>
  <header>
    <h1>여기는 재학생 탭 입니다.</h1>
  </header>

  <main>
    <fieldset style="width: 500px; height: 100px">
      <legend>환산점수 계산</legend>
      <form id="scoreForm">
        <label for="collages">단과대학 : </label>
        <select name="collage" id="collages">
          <option value="engineering">공과대학</option>
          <option value="agriculture">농업생명대학</option>
          <option value="education">사범대학</option>
          <option value="commerce">상과대학</option>
          <option value="humanEcology">생활과학대학</option>
          <option value="arts">예술대학</option>
          <option value="humanities">인문대학</option>
          <option value="naturalSciences">자연과학대학</option>
        </select>
        <label for="gradeInput">학점 : <input type="number" id="gradeInput" step="0.01"> </label>
        <input type="submit" value="계산!" onclick="calculateScore(event)">
      </form>
    </fieldset>

    <br>

    <label for="convertedScore">환산 점수 : <output type="text" id="convertedScore"></output></label>
  </main>

  <script>
    function calculateScore(event) {
      event.preventDefault(); // 폼의 기본 동작을 막음

      var form = document.getElementById('scoreForm');
      var formData = new FormData(form);

      fetch('/calculate', {
        method: 'POST',
        body: formData
      })
      .then(response => response.text())
      .then(data => {
        document.getElementById('convertedScore').textContent = data;
      })
      .catch(error => {
        console.error('Error:', error);
      });
    }
  </script>
</body>

</html>